<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-T3P68DR');</script>
    <!-- End Google Tag Manager -->
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Blog OLV Internacional - An√°lises de mercado, guias pr√°ticos, not√≠cias e insights sobre com√©rcio exterior, importa√ß√£o, exporta√ß√£o e Supply Chain Global.">
    <meta name="keywords" content="blog com√©rcio exterior, an√°lises importa√ß√£o exporta√ß√£o, not√≠cias com√©rcio internacional, tend√™ncias supply chain, dados com√©rcio exterior Brasil">
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large">
    <link rel="canonical" href="https://www.olvinternacional.com.br/blog.html">
    <meta property="og:title" content="Blog OLV Internacional - Com√©rcio Exterior e Supply Chain">
    <meta property="og:description" content="An√°lises de mercado, guias pr√°ticos, not√≠cias e insights sobre com√©rcio exterior, importa√ß√£o, exporta√ß√£o e Supply Chain Global.">
    <meta property="og:url" content="https://www.olvinternacional.com.br/blog.html">
    <title>Blog OLV Internacional - Com√©rcio Exterior e Supply Chain</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="dns-prefetch" href="https://www.googletagmanager.com">
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
    <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
    <noscript><link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet"></noscript>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer">
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Blog",
      "name": "Blog OLV Internacional",
      "description": "An√°lises de mercado, guias pr√°ticos, not√≠cias e insights sobre com√©rcio exterior, importa√ß√£o, exporta√ß√£o e Supply Chain Global",
      "url": "https://www.olvinternacional.com.br/blog.html",
      "publisher": {
        "@type": "Organization",
        "name": "OLV Internacional",
        "logo": {
          "@type": "ImageObject",
          "url": "https://raw.githubusercontent.com/OLVCORE/olv-internacional-website-v3/main/logo-olv.jpeg"
        }
      }
    }
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "In√≠cio",
          "item": "https://www.olvinternacional.com.br/"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Blog",
          "item": "https://www.olvinternacional.com.br/blog.html"
        }
      ]
    }
    </script>
    <style>
        .blog-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        .blog-header {
            text-align: center;
            margin-bottom: 60px;
        }
        .blog-header h1 {
            font-size: clamp(32px, 5vw, 48px);
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 16px;
        }
        .blog-header p {
            font-size: 18px;
            color: var(--text-secondary);
            max-width: 700px;
            margin: 0 auto;
        }
        /* Painel de Categorias */
        .blog-categories-panel {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        .category-card {
            background: var(--card-bg);
            border: 2px solid var(--border-color);
            border-radius: 16px;
            padding: 24px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 16px;
            position: relative;
            overflow: hidden;
        }
        .category-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .category-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
            border-color: var(--accent-primary);
        }
        .category-card:hover::before {
            opacity: 1;
        }
        .category-card.active {
            border-color: var(--accent-primary);
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(118, 75, 162, 0.05) 100%);
        }
        .category-icon {
            width: 56px;
            height: 56px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-size: 24px;
            flex-shrink: 0;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }
        .category-info {
            flex: 1;
            min-width: 0;
        }
        .category-info h3 {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-primary);
            margin: 0 0 4px 0;
        }
        .category-count {
            font-size: 24px;
            font-weight: 700;
            color: var(--accent-primary);
            margin: 0;
            line-height: 1;
        }
        .blog-filters {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            justify-content: center;
            margin-bottom: 20px;
        }
        /* Seletor de Posts por P√°gina */
        .blog-posts-per-page {
            display: flex;
            align-items: center;
            justify-content: flex-end;
            gap: 12px;
            margin-bottom: 30px;
            padding: 12px 0;
        }
        .blog-posts-per-page label {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--text-secondary);
            font-size: 14px;
            font-weight: 500;
        }
        .blog-posts-per-page select {
            padding: 8px 16px;
            border: 2px solid var(--border-color);
            background: var(--card-bg);
            color: var(--text-primary);
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s ease;
        }
        .blog-posts-per-page select:hover,
        .blog-posts-per-page select:focus {
            border-color: var(--accent-primary);
            outline: none;
        }
        /* Pagina√ß√£o estilo Google */
        .blog-pagination {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin: 40px 0 20px;
            flex-wrap: wrap;
        }
        .pagination-btn,
        .pagination-number {
            min-width: 40px;
            height: 40px;
            padding: 0 12px;
            border: 2px solid var(--border-color);
            background: var(--card-bg);
            color: var(--text-primary);
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .pagination-btn:hover,
        .pagination-number:hover {
            border-color: var(--accent-primary);
            background: var(--accent-primary);
            color: white;
        }
        .pagination-number.active {
            background: var(--accent-primary);
            color: white;
            border-color: var(--accent-primary);
            font-weight: 700;
        }
        .pagination-ellipsis {
            padding: 0 8px;
            color: var(--text-tertiary);
            font-weight: 500;
        }
        .pagination-info {
            text-align: center;
            color: var(--text-secondary);
            font-size: 14px;
            margin-top: 12px;
        }
        .filter-btn {
            padding: 10px 20px;
            border: 2px solid var(--border-color);
            background: var(--card-bg);
            color: var(--text-primary);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: 500;
        }
        .filter-btn:hover,
        .filter-btn.active {
            background: var(--accent-primary);
            color: white;
            border-color: var(--accent-primary);
        }
        .blog-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 32px;
            margin-bottom: 60px;
        }
        .blog-card {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            height: 100%;
        }
        .blog-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
            border-color: var(--accent-primary);
        }
        .blog-card-image {
            width: 100%;
            height: 200px;
            min-height: 200px;
            background: var(--bg-secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            position: relative;
            flex-shrink: 0;
        }
        
        .blog-card-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }
        
        .blog-card-image .icon-fallback {
            font-size: 28px;
            color: var(--accent-primary);
            opacity: 0.5;
        }
        .blog-card-content {
            padding: 24px;
            display: flex;
            flex-direction: column;
            flex-grow: 1;
        }
        .blog-card-category {
            display: inline-block;
            padding: 4px 12px;
            background: var(--accent-primary);
            color: white;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
            margin-bottom: 12px;
        }
        .blog-card-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 12px;
            line-height: 1.4;
        }
        .blog-card-excerpt {
            font-size: 14px;
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 16px;
        }
        .blog-card-meta {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            font-size: 11px;
            color: var(--text-tertiary);
            margin-top: auto;
            padding-top: 16px;
            border-top: 1px solid var(--border-color);
        }
        .blog-card-date {
            display: flex;
            align-items: center;
            gap: 6px;
        }
        .blog-loading {
            text-align: center;
            padding: 60px 20px;
            color: var(--text-secondary);
        }
        .blog-empty {
            text-align: center;
            padding: 60px 20px;
            color: var(--text-secondary);
        }
        @media (max-width: 768px) {
            .blog-categories-panel {
                grid-template-columns: repeat(2, 1fr);
                gap: 12px;
            }
            .category-card {
                padding: 16px;
                flex-direction: column;
                text-align: center;
            }
            .category-icon {
                width: 48px;
                height: 48px;
                font-size: 20px;
            }
            .category-info h3 {
                font-size: 14px;
            }
            .category-count {
                font-size: 20px;
            }
            .blog-grid {
                grid-template-columns: 1fr;
            }
            .blog-posts-per-page {
                justify-content: center;
            }
            .pagination-btn,
            .pagination-number {
                min-width: 36px;
                height: 36px;
                font-size: 12px;
                padding: 0 8px;
            }
        }
    </style>
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T3P68DR"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    
    <div id="header-placeholder"></div>

    <section class="content-section" style="padding-top: 120px;">
        <div class="blog-container">
            <div class="blog-header">
                <h1>Blog OLV Internacional</h1>
                <p>An√°lises de mercado, guias pr√°ticos, not√≠cias e insights sobre com√©rcio exterior, importa√ß√£o, exporta√ß√£o e Supply Chain Global</p>
            </div>

            <!-- Painel de Categorias com Contadores -->
            <div class="blog-categories-panel">
                <div class="category-card" data-category="all" id="category-all">
                    <div class="category-icon">
                        <i class="fas fa-th-large"></i>
                    </div>
                    <div class="category-info">
                        <h3>Todos</h3>
                        <p class="category-count" id="count-all">0</p>
                    </div>
                </div>
                <div class="category-card" data-category="analises" id="category-analises">
                    <div class="category-icon" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <div class="category-info">
                        <h3>An√°lises</h3>
                        <p class="category-count" id="count-analises">0</p>
                    </div>
                </div>
                <div class="category-card" data-category="noticias" id="category-noticias">
                    <div class="category-icon" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                        <i class="fas fa-newspaper"></i>
                    </div>
                    <div class="category-info">
                        <h3>Not√≠cias</h3>
                        <p class="category-count" id="count-noticias">0</p>
                    </div>
                </div>
                <div class="category-card" data-category="guias" id="category-guias">
                    <div class="category-icon" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                        <i class="fas fa-book"></i>
                    </div>
                    <div class="category-info">
                        <h3>Guias</h3>
                        <p class="category-count" id="count-guias">0</p>
                    </div>
                </div>
                <div class="category-card" data-category="insights" id="category-insights">
                    <div class="category-icon" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);">
                        <i class="fas fa-lightbulb"></i>
                    </div>
                    <div class="category-info">
                        <h3>Insights</h3>
                        <p class="category-count" id="count-insights">0</p>
                    </div>
                </div>
            </div>

            <div class="blog-filters">
                <button class="filter-btn active" data-category="all">Todos</button>
                <button class="filter-btn" data-category="analises">An√°lises de Mercado</button>
                <button class="filter-btn" data-category="guias">Guias Pr√°ticos</button>
                <button class="filter-btn" data-category="noticias">Not√≠cias</button>
                <button class="filter-btn" data-category="insights">Insights</button>
            </div>

            <!-- Seletor de Posts por P√°gina -->
            <div class="blog-posts-per-page">
                <label for="posts-per-page-select">
                    <i class="fas fa-list"></i>
                    Posts por p√°gina:
                </label>
                <select id="posts-per-page-select" onchange="changePostsPerPage(this.value)">
                    <option value="6">6</option>
                    <option value="12" selected>12</option>
                    <option value="24">24</option>
                    <option value="48">48</option>
                </select>
            </div>

            <div id="blog-posts-container">
                <div class="blog-loading">
                    <i class="fas fa-spinner fa-spin" style="font-size: 32px; margin-bottom: 16px;"></i>
                    <p>Carregando artigos...</p>
                </div>
            </div>
        </div>
    </section>

    <div id="footer-placeholder"></div>

    <script src="components.js" defer></script>
    <script src="script.js" defer></script>
    <script src="news-ticker.js" defer></script>
    <script>
        // Carregar contadores de categorias
        async function updateCategoryCounts() {
            try {
                console.log('üîÑ Carregando contadores de categorias...');
                const response = await fetch('/api/blog/posts?category=all&page=1&perPage=1000');
                const data = await response.json();
                
                // Verificar se √© formato antigo (array) ou novo (objeto)
                const allPosts = Array.isArray(data) ? data : (data.posts || []);
                
                console.log('üìä Total de posts carregados para contadores:', allPosts.length);
                
                const counts = {
                    all: allPosts.length,
                    analises: allPosts.filter(p => p.category === 'analises').length,
                    noticias: allPosts.filter(p => p.category === 'noticias').length,
                    guias: allPosts.filter(p => p.category === 'guias').length,
                    insights: allPosts.filter(p => p.category === 'insights').length
                };
                
                console.log('üìä Contadores calculados:', counts);
                
                // Atualizar contadores no painel
                const countAllEl = document.getElementById('count-all');
                const countAnalisesEl = document.getElementById('count-analises');
                const countNoticiasEl = document.getElementById('count-noticias');
                const countGuiasEl = document.getElementById('count-guias');
                const countInsightsEl = document.getElementById('count-insights');
                
                if (countAllEl) {
                    countAllEl.textContent = counts.all;
                    console.log('‚úÖ count-all atualizado:', counts.all);
                } else {
                    console.warn('‚ö†Ô∏è Elemento count-all n√£o encontrado');
                }
                
                if (countAnalisesEl) {
                    countAnalisesEl.textContent = counts.analises;
                    console.log('‚úÖ count-analises atualizado:', counts.analises);
                }
                
                if (countNoticiasEl) {
                    countNoticiasEl.textContent = counts.noticias;
                    console.log('‚úÖ count-noticias atualizado:', counts.noticias);
                }
                
                if (countGuiasEl) {
                    countGuiasEl.textContent = counts.guias;
                    console.log('‚úÖ count-guias atualizado:', counts.guias);
                }
                
                if (countInsightsEl) {
                    countInsightsEl.textContent = counts.insights;
                    console.log('‚úÖ count-insights atualizado:', counts.insights);
                }
                
                // Verificar se painel est√° vis√≠vel
                const panel = document.querySelector('.blog-categories-panel');
                if (panel) {
                    console.log('‚úÖ Painel de categorias encontrado no DOM');
                    const style = window.getComputedStyle(panel);
                    console.log('üìê Display do painel:', style.display);
                    console.log('üìê Visibility do painel:', style.visibility);
                } else {
                    console.error('‚ùå Painel de categorias N√ÉO encontrado no DOM!');
                }
            } catch (error) {
                console.error('‚ùå Erro ao carregar contadores:', error);
            }
        }

        // Estado global de pagina√ß√£o
        let currentPage = 1;
        let currentPerPage = 12;
        let currentCategory = 'all';
        let totalPages = 1;
        let totalPosts = 0;

        // Carregar artigos do blog
        async function loadBlogPosts(category = 'all', page = 1, perPage = 12) {
            const container = document.getElementById('blog-posts-container');
            currentCategory = category;
            currentPage = page;
            currentPerPage = perPage;
            
            try {
                // Usar rota relativa (funciona tanto local quanto Vercel)
                const response = await fetch(`/api/blog/posts?category=${category}&page=${page}&perPage=${perPage}`);
                const data = await response.json();
                
                // Verificar se √© formato antigo (array) ou novo (objeto com pagination)
                let posts, pagination;
                if (Array.isArray(data)) {
                    posts = data;
                    pagination = {
                        currentPage: 1,
                        perPage: data.length,
                        totalPosts: data.length,
                        totalPages: 1,
                        hasNextPage: false,
                        hasPrevPage: false
                    };
                } else {
                    posts = data.posts || [];
                    pagination = data.pagination || {};
                }
                
                totalPages = pagination.totalPages || 1;
                totalPosts = pagination.totalPosts || posts.length;

                // Atualizar contadores ap√≥s carregar posts
                updateCategoryCounts();

                if (posts.length === 0) {
                    container.innerHTML = `
                        <div class="blog-empty">
                            <i class="fas fa-newspaper" style="font-size: 48px; margin-bottom: 16px; opacity: 0.3;"></i>
                            <p>Nenhum artigo encontrado nesta categoria.</p>
                        </div>
                    `;
                    renderPagination(pagination);
                    return;
                }

                // Debug: verificar se posts t√™m imagens
                console.log('üìä Posts carregados:', posts.length);
                const postsWithImages = posts.filter(p => p.image).length;
                console.log('üñºÔ∏è  Posts com imagens:', postsWithImages);
                if (postsWithImages > 0) {
                    posts.filter(p => p.image).forEach(p => {
                        console.log(`  - ${p.title}: ${p.image}`);
                    });
                }
                
                container.innerHTML = `
                    <div class="blog-grid">
                        ${posts.map(post => {
                            // Determinar nome da fonte
                            let sourceName = 'OLV Blog';
                            let sourceDate = null;
                            
                            if (post.source === 'rss') {
                                if (post.dataSource && post.dataSource.link) {
                                    try {
                                        const url = new URL(post.dataSource.link);
                                        if (url.hostname.includes('valor.com.br')) sourceName = 'Valor Econ√¥mico';
                                        else if (url.hostname.includes('exame.com')) sourceName = 'Exame';
                                        else if (url.hostname.includes('ebc.com.br') || url.hostname.includes('agenciabrasil')) sourceName = 'Ag√™ncia Brasil';
                                        else if (url.hostname.includes('reuters.com')) sourceName = 'Reuters';
                                        else if (url.hostname.includes('bcb.gov.br')) sourceName = 'Banco Central';
                                        else if (url.hostname.includes('iccwbo.org')) sourceName = 'CCI';
                                        else if (url.hostname.includes('bloomberg.com')) sourceName = 'Bloomberg';
                                    } catch (e) {
                                        sourceName = 'RSS Feed';
                                    }
                                }
                                // Usar data de publica√ß√£o da fonte se dispon√≠vel
                                if (post.sourcePublishedDate) {
                                    sourceDate = new Date(post.sourcePublishedDate).toLocaleDateString('pt-BR');
                                }
                            } else if (post.source === 'comexstat') {
                                sourceName = 'MDIC';
                            } else if (post.source === 'unComtrade') {
                                sourceName = 'UN Comtrade';
                            } else if (post.source === 'worldBank') {
                                sourceName = 'World Bank';
                            }
                            
                            // Debug individual
                            if (post.image) {
                                console.log(`üñºÔ∏è  Renderizando imagem para "${post.title}": ${post.image}`);
                            } else {
                                console.log(`‚ö†Ô∏è  Sem imagem para "${post.title}"`);
                            }
                            
                            return `
                                <div class="blog-card" onclick="window.location.href='blog-post.html?id=${post.id}'">
                                    <div class="blog-card-image">
                                        ${post.image ? `
                                            <img src="${post.image}" alt="${post.title}" 
                                                 onerror="console.error('‚ùå Erro ao carregar imagem:', '${post.image}'); this.style.display='none'; this.parentElement.innerHTML='<i class=\\'${post.icon || 'fas fa-chart-line'} icon-fallback\\'></i>';"
                                                 onload="console.log('‚úÖ Imagem carregada:', '${post.image}');">
                                        ` : `
                                            <i class="${post.icon || 'fas fa-chart-line'} icon-fallback"></i>
                                        `}
                                    </div>
                                    <div class="blog-card-content">
                                        <span class="blog-card-category">${post.category}</span>
                                        <h3 class="blog-card-title">${post.title}</h3>
                                        <p class="blog-card-excerpt">${post.excerpt}</p>
                                        <div class="blog-card-meta">
                                            <div style="display: flex; flex-direction: column; gap: 4px; font-size: 11px;">
                                                <span class="blog-card-date">
                                                    <i class="fas fa-calendar"></i>
                                                    Publicado: ${new Date(post.datePublished).toLocaleDateString('pt-BR')}
                                                </span>
                                                ${sourceDate ? `
                                                    <span style="color: var(--text-tertiary);">
                                                        <i class="fas fa-newspaper"></i>
                                                        Fonte: ${sourceName} (${sourceDate})
                                                    </span>
                                                ` : `
                                                    <span style="color: var(--text-tertiary);">
                                                        <i class="fas fa-newspaper"></i>
                                                        Fonte: ${sourceName}
                                                    </span>
                                                `}
                                            </div>
                                            <span><i class="fas fa-arrow-right"></i></span>
                                        </div>
                                    </div>
                                </div>
                            `;
                        }).join('')}
                    </div>
                `;
                
                // Renderizar pagina√ß√£o
                renderPagination(pagination);
            } catch (error) {
                console.error('Erro ao carregar posts:', error);
                container.innerHTML = `
                    <div class="blog-empty">
                        <i class="fas fa-exclamation-triangle" style="font-size: 48px; margin-bottom: 16px; color: var(--accent-primary);"></i>
                        <p>Erro ao carregar artigos. Tente novamente mais tarde.</p>
                    </div>
                `;
            }
        }

        // Renderizar pagina√ß√£o estilo Google
        function renderPagination(pagination) {
            const container = document.getElementById('blog-posts-container');
            const paginationContainer = document.getElementById('blog-pagination');
            
            if (!paginationContainer) {
                // Criar container de pagina√ß√£o se n√£o existir
                const pagDiv = document.createElement('div');
                pagDiv.id = 'blog-pagination';
                container.parentNode.appendChild(pagDiv);
            }
            
            const pagEl = document.getElementById('blog-pagination');
            if (!pagEl) return;
            
            const { currentPage, totalPages, totalPosts, hasNextPage, hasPrevPage } = pagination;
            
            if (totalPages <= 1) {
                pagEl.innerHTML = '';
                return;
            }
            
            // Calcular quais p√°ginas mostrar (m√°ximo 10 n√∫meros como Google)
            let startPage = Math.max(1, currentPage - 4);
            let endPage = Math.min(totalPages, startPage + 9);
            
            // Ajustar se estiver no final
            if (endPage - startPage < 9) {
                startPage = Math.max(1, endPage - 9);
            }
            
            let paginationHTML = '<div class="blog-pagination">';
            
            // Bot√£o Anterior
            if (hasPrevPage) {
                paginationHTML += `<button class="pagination-btn" onclick="loadBlogPosts('${currentCategory}', ${currentPage - 1}, ${currentPerPage})" aria-label="P√°gina anterior">
                    <i class="fas fa-chevron-left"></i>
                </button>`;
            }
            
            // Primeira p√°gina
            if (startPage > 1) {
                paginationHTML += `<button class="pagination-number ${1 === currentPage ? 'active' : ''}" onclick="loadBlogPosts('${currentCategory}', 1, ${currentPerPage})">1</button>`;
                if (startPage > 2) {
                    paginationHTML += `<span class="pagination-ellipsis">...</span>`;
                }
            }
            
            // N√∫meros de p√°gina
            for (let i = startPage; i <= endPage; i++) {
                paginationHTML += `<button class="pagination-number ${i === currentPage ? 'active' : ''}" onclick="loadBlogPosts('${currentCategory}', ${i}, ${currentPerPage})">${i}</button>`;
            }
            
            // √öltima p√°gina
            if (endPage < totalPages) {
                if (endPage < totalPages - 1) {
                    paginationHTML += `<span class="pagination-ellipsis">...</span>`;
                }
                paginationHTML += `<button class="pagination-number ${totalPages === currentPage ? 'active' : ''}" onclick="loadBlogPosts('${currentCategory}', ${totalPages}, ${currentPerPage})">${totalPages}</button>`;
            }
            
            // Bot√£o Pr√≥ximo
            if (hasNextPage) {
                paginationHTML += `<button class="pagination-btn" onclick="loadBlogPosts('${currentCategory}', ${currentPage + 1}, ${currentPerPage})" aria-label="Pr√≥xima p√°gina">
                    <i class="fas fa-chevron-right"></i>
                </button>`;
            }
            
            paginationHTML += '</div>';
            
            // Informa√ß√£o de posts
            const startPost = (currentPage - 1) * currentPerPage + 1;
            const endPost = Math.min(currentPage * currentPerPage, totalPosts);
            paginationHTML += `<div class="pagination-info">Mostrando ${startPost}-${endPost} de ${totalPosts} artigos</div>`;
            
            pagEl.innerHTML = paginationHTML;
        }

        // Filtros de categoria e painel de categorias
        document.addEventListener('DOMContentLoaded', function() {
            // Carregar contadores
            updateCategoryCounts();
            
            // Carregar posts iniciais
            loadBlogPosts();

        // Mudar posts por p√°gina
        function changePostsPerPage(perPage) {
            currentPerPage = parseInt(perPage);
            loadBlogPosts(currentCategory, 1, currentPerPage); // Resetar para p√°gina 1
        }

        // Filtros de bot√£o
        document.addEventListener('DOMContentLoaded', function() {
            // Carregar contadores
            updateCategoryCounts();
            
            // Carregar posts iniciais
            loadBlogPosts('all', 1, 12);

            // Filtros de bot√£o
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    const category = this.dataset.category;
                    loadBlogPosts(category, 1, currentPerPage); // Resetar para p√°gina 1
                    
                    // Scroll suave para a se√ß√£o de posts
                    document.getElementById('blog-posts-container').scrollIntoView({ 
                        behavior: 'smooth', 
                        block: 'start' 
                    });
                });
            });

            // Painel de categorias (cards clic√°veis)
            document.querySelectorAll('.category-card').forEach(card => {
                card.addEventListener('click', function() {
                    const category = this.dataset.category;
                    
                    // Atualizar bot√µes de filtro
                    document.querySelectorAll('.filter-btn').forEach(b => {
                        b.classList.remove('active');
                        if (b.dataset.category === category) {
                            b.classList.add('active');
                        }
                    });
                    
                    // Atualizar cards do painel
                    document.querySelectorAll('.category-card').forEach(c => {
                        c.classList.remove('active');
                    });
                    this.classList.add('active');
                    
                    // Carregar posts da categoria (resetar para p√°gina 1)
                    loadBlogPosts(category, 1, currentPerPage);
                    
                    // Scroll suave para a se√ß√£o de posts
                    document.getElementById('blog-posts-container').scrollIntoView({ 
                        behavior: 'smooth', 
                        block: 'start' 
                    });
                });
            });

            if (typeof initComponents === 'function') {
                initComponents('blog');
            }
        });
    </script>
</body>
</html>
